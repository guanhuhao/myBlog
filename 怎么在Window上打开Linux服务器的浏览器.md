乍一看这个需求好像很奇怪，但其实其实个人实践过程中这个需求还是蛮重要的，因为通常情况下有时候在内网服务器上部署一些服务之后（例如分布式集群/数据库/网页开发），可以通过浏览器的方式对服务的运行状态进行监控或者是进行可视化操作，但是由于服务器与本机可能不属于一个内网环境，而服务器也没有公网IP的时候，怎么在这样的情况下对Linux服务器进行远程操纵就成了迫切需求。为了实现这个操作，我们需要依托`X11转发`这个技术。
## X11 转发
X11转发（X11 Forwarding）是一种允许用户在远程计算机上运行图形界面程序的技术，同时将图形输出转发到本地计算机显示的技术。这是通过SSH（Secure Shell）协议实现的，SSH协议支持X11转发作为其标准的一部分。具有下面一些特点：
>+ **安全性：** SSH 使用强大的身份验证机制，如公钥认证，确保只有授权用户才能访问远程会话。SSH 还提供数据完整性检查，确保传输的数据在传输过程中没有被篡改。
>+ **远程桌面访问：**用户可以远程访问带有图形用户界面的应用程序，**就像它们在本地计算机上运行一样**。
>+ **资源利用：** X11转发允许用户在拥有更多资源的远程计算机上运行图形密集型应用程序，同时在本地计算机上查看结果(远端计算/本地查看)。

原理如下：当用户通过SSH连接到远程计算机并请求X11转发时，**远程计算机会启动X客户端程序**，并通过**SSH连接将X11会话数据转发到用户的本地计算机**。本地计算机上运行的X服务器接收这些数据并渲染图形界面。

因此大致分成两步：
1. 在远程服务器配置ssh，并启用X转发
2. 在本地服务器安装X服务器用于接收并处理转发信息

## 远程服务器配置
一般默认远程服务器是Linux系统，首先确保系统能正常使用ssh,因为X11依托于ssh协议，确认ssh工作正常后。需要修改SSH配置，编辑服务器 `/etc/ssh/sshd_config`文件，找到或添加下面内容:
```
X11Forwarding yes
X11DisplayOffset 10
```
分别表示开启X11转发服务，设置X11服务器偏移量（防止与本地的X11服务器冲突），

## 本地设置
### Windows系统
1. 对于Windows系统需要安装`Xming`，`VcXsrv`等X服务器，相关下载链接可以参考[此处](https://github.com/ArcticaProject/vcxsrv/releases)
2. 由于windows大多没有提供ssh功能，因此需要借助ssh客户端建立连接，这里我们使用`putty`来作为windows上建立SSH连接的方式，下载链接(见此)[https://putty.org/]

安装好之后根据下面的步骤来开启相关服务以及功能：
1. 启动X服务器，在windows菜单栏或者桌面上中找到`XLaunch`的软件（安装X服务器的时候有选项），弹出页面之后无脑点`下一页`即可，点完之后就会缩小为最小的状态在后台挂着
2. 类似的在菜单栏/桌面中启动putty，这里需要注意下面几点
>+ 在Session中填写`Host Name(or IP address)`以及端口号，因为你得告诉计算机你远程连接服务器的地址，如果更改过ssh端口的话同样也需要指明新的ssh端口是哪个
>+ 在`Connection>SSH>X11` 中勾选选项 `Enable X11 forwarding`,否则无法启用X11服务
>+ 如果设置免密登录，需要将本机的私钥id_rsa添加到`Connection>SSH>Ayth>Credentials`的`Private key file for authentication`，否则无法认证，同时由于putty只能识别`.ppk`的文件格式，因此需要使用`puttygen`将id_rsa文件转化为.ppk文件

没有意外的话点击软件右下角`Open`即可正常连接，在弹出来的terminal中打开`firefox`或其他有图形界面的程序可以验证是否正常开启X11功能

因为懒所以下面的内容可能会更新（也可能不会 嘻嘻）
TODO:
1. 补充Linux的本地设置
2. 补充图片